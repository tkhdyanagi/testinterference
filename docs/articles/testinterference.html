<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="testinterference">
<title>Getting Started with the testinterference Package • testinterference</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with the testinterference Package">
<meta property="og:description" content="testinterference">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">testinterference</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/testinterference.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/exposure1.html">Testing Procedure: Exposure 1</a>
    <a class="dropdown-item" href="../articles/exposure2.html">Testing Procedure: Exposure 2</a>
    <a class="dropdown-item" href="../articles/Fisher.html">Testing Procedure: Fisher's Sharp Null Hypothesis</a>
    <a class="dropdown-item" href="../articles/SUTVA.html">Testing Procedure: Stable Unit Treatment Value Assumption (SUTVA)</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Getting Started with the testinterference Package</h1>
                        <h4 data-toc-skip class="author">Tadao Hoshino
(<a href="mailto:thoshino@waseda.jp" class="email">thoshino@waseda.jp</a>), Takahide Yanagi (<a href="mailto:yanagi@econ.kyoto-u.ac.jp" class="email">yanagi@econ.kyoto-u.ac.jp</a>)</h4>
            
      
      
      <div class="d-none name"><code>testinterference.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <strong>testinterference</strong> package provides tools to test
SUTVA and several hypotheses about spillover effects. Specifically, the
package enables to perform randomization tests on whether or not the
following null hypotheses are plausible:</p>
<ul>
<li>
<strong>Fisher</strong>: One’s outcome does not depend on one’s own
treatment (i.e., Fisher’s sharp null hypothesis).</li>
<li>
<strong>SUTVA</strong>: One’s outcome is determined by one’s own
treatment (i.e., the stable unit treatment value assumption).</li>
<li>
<strong>Exposure 1</strong>: One’s outcome is determined by whether
there is at least one treated unit in one’s neighborhood including
oneself.</li>
<li>
<strong>Exposure 2</strong>: One’s outcome is determined by one’s
own treatment and whether there is at least one treated peer.</li>
</ul>
<p>The testing procedures are developed by <a href="https://doi.org/10.48550/arXiv.2301.05580" class="external-link">Hoshino and Yanagi
(2023) “Randomization test for the specification of interference
structure”</a>.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Get the package from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools") # if necessary</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"tkhdyanagi/testinterference"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="package-function">Package Function<a class="anchor" aria-label="anchor" href="#package-function"></a>
</h2>
<p>The <strong>testinterference</strong> package provides the following
function:</p>
<ul>
<li>
<code><a href="../reference/testinterference.html">testinterference()</a></code>: Randomization tests for the
following null hypotheses: (1) Fisher, (2) SUTVA, (3) Exposure 1, (4)
Exposure 2.</li>
</ul>
<div class="section level4">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a>
</h4>
<p>The <code><a href="../reference/testinterference.html">testinterference()</a></code> function has the following
arguments:</p>
<ul>
<li>
<code>Y</code>: The <span class="math inline">\(n\)</span>-dimensional outcome vector</li>
<li>
<code>Z</code>: The <span class="math inline">\(n\)</span>-dimensional binary treatment assignment
vector</li>
<li>
<code>A</code>: The <span class="math inline">\(n \times n\)</span>,
binary, possibly asymmetric, adjacency matrix. The diagonal elements
must be zero. This argument can be NULL if
<code>hypothesis = Fisher</code>. Default is NULL.</li>
<li>
<code>hypothesis</code>: A character specifying the null hypothesis
of interest. Options are “Fisher”, “SUTVA”, “exposure1”, and
“exposure2”. “Fisher” stands for the sharp null hypothesis in the
canonical Fisher randomization test. “SUTVA”, “exposure1”, and
“exposure2” correspond to the null hypotheses a, b, and c in Table 2 of
Hoshino and Yanagi (2023). Default is “SUTVA”. If
<code>hypothesis = "exposure2"</code>, the user can specify the argument
<code>kappa</code>.</li>
<li>
<code>method</code>: A character specifying how to find focal units.
Options are “MIS”, “random”, and “manual”, which stand for the method of
maximum independent set (MIS), the random selection, and the manual
selection. Default is “MIS”. If <code>method = "random"</code>, the user
can specify the argument <code>num_focal_unit</code>. If
<code>method = "manual"</code>, the user must specify the argument
<code>focal_unit</code>.</li>
<li>
<code>design</code>: A character specifying the randomization design
of the original experiment. Options are “Bernoulli”, “complete”,
“stratified”, and “other”, which stand for Bernoulli randomization,
complete randomization, stratified randomization, and other experimental
designs. If <code>design = "Bernoulli"</code>, the user must specify the
argument <code>prob</code>. If <code>design = "stratified"</code>,the
user must specify the argument <code>strata</code>. If
<code>design = "other"</code>, the user must specify the argument
<code>zmatrix</code>.</li>
<li>
<code>prob</code>: NULL, a scalar indicating the homogeneous
probability of being treatment eligible, or an <span class="math inline">\(n\)</span>-dimensional vector indicating the
heterogeneous probabilities for treatment eligibility (i.e., the <span class="math inline">\(i\)</span>-th element of <code>prob</code>
indicates <span class="math inline">\(\Pr(Z_i = 1)\)</span>). This
argument is used only when <code>design = "Bernoulli"</code>. Default is
NULL.</li>
<li>
<code>focal_unit</code>: NULL or an <span class="math inline">\(n\)</span>-dimensional logical vector specifying
whether each unit is focal. This argument is used only when
<code>method = "manual"</code>. Default is NULL.</li>
<li>
<code>num_focal_unit</code>: NULL or a positive scalar specifying
the number of focal units. This argument is used only when
<code>method = "random"</code>. Default is NULL.</li>
<li>
<code>num_randomization</code>: A large positive integer specifying
the number of randomization. Default is 9999. This argument is not used
when <code>method = "other"</code>.</li>
<li>
<code>strata</code>: NULL or an <span class="math inline">\(n\)</span>-dimensional numerical vector indicating
the stratum to which each unit belongs. This argument is used only when
<code>design = "stratified"</code>. Default is NULL.</li>
<li>
<code>zmatrix</code>: NULL or a large matrix of realizations of
treatment assignments. This argument must be specified by the user only
when <code>design = "other"</code>. The number of rows must equal to the
sample size <span class="math inline">\(n\)</span>. The number of
columns is the number of realizations given by the user. Default is
NULL.</li>
<li>
<code>kappa</code>: NULL or a positive integer no less than 2. This
argument is used only when <code>hypothesis = "exposure2"</code>.
Default is NULL. If <code>kappa = NULL</code>, kappa is automatically
chosen to maximize the number of focal units.</li>
<li>
<code>cores</code>: A positive integer specifying the number of
cores to use for parallel computing. Default is 1.</li>
</ul>
</div>
<div class="section level4">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a>
</h4>
<p>The <code><a href="../reference/testinterference.html">testinterference()</a></code> function returns a list
containing the following elements:</p>
<ul>
<li>
<code>pval</code>: The vector of p-values obtained from
Kruskal-Wallis (KW), average cross difference (ACD), and ordinary least
squares (OLS) test statistics.</li>
<li>
<code>Simes</code>: The vector of testing results by Simes’
correction under significance levels 10%, 5%, and 1%. TRUE (resp. FALSE)
indicates the rejection (resp. acceptance) of the null hypothesis.</li>
<li>
<code>stat</code>: A matrix of test statistics computed with focal
assignments.</li>
<li>
<code>focal_unit</code>: The logical vector indicating whether each
unit is focal.</li>
<li>
<code>focal_asgmt</code>: The matrix of focal assignments.</li>
<li>
<code>num_focal_unit</code>: The number of focal units.</li>
<li>
<code>num_focal_asgmt</code>: The number of focal assignments.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="example-1-a-single-large-network">Example 1: A Single Large Network<a class="anchor" aria-label="anchor" href="#example-1-a-single-large-network"></a>
</h2>
<p>We begin by generating artificial data using the
<code><a href="../reference/datageneration.html">datageneration()</a></code> function. In the
<code><a href="../reference/datageneration.html">datageneration()</a></code> function, there are two options to
generate the adjacency matrix: (1) Erdos-Renyi model and (2) pairs. In
addition, there are three options for the experimental design: (a)
Bernoulli randomization, (b) complete randomization, and (c) stratified
randomization. Here we consider the case (1)-(a) with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tkhdyanagi.github.io/testinterference/">testinterference</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sample size</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">200</span></span>
<span></span>
<span><span class="co"># Generate artificial data (Erdos-Renyi model)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">data1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datageneration.html">datageneration</a></span><span class="op">(</span>n      <span class="op">=</span> <span class="va">n</span>,</span>
<span>                        design <span class="op">=</span> <span class="st">"Bernoulli"</span>,</span>
<span>                        A      <span class="op">=</span> <span class="st">"Erdos-Renyi"</span>,</span>
<span>                        beta_s <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>Here, <code>beta_s</code> specifies the value of a coefficient for
spillover effects in the outcome equation. <code>beta_s = 0</code> means
that there are no spillovers. In this example, we consider the case
where SUTVA does not hold.</p>
<p>Run the <code><a href="../reference/testinterference.html">testinterference()</a></code> function to test SUTVA:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">RT1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/testinterference.html">testinterference</a></span><span class="op">(</span>Y                 <span class="op">=</span> <span class="va">data1</span><span class="op">$</span><span class="va">Y</span>,</span>
<span>                        Z                 <span class="op">=</span> <span class="va">data1</span><span class="op">$</span><span class="va">Z</span>,</span>
<span>                        A                 <span class="op">=</span> <span class="va">data1</span><span class="op">$</span><span class="va">A</span>,</span>
<span>                        hypothesis        <span class="op">=</span> <span class="st">"SUTVA"</span>,</span>
<span>                        method            <span class="op">=</span> <span class="st">"MIS"</span>,</span>
<span>                        design            <span class="op">=</span> <span class="st">"Bernoulli"</span>,</span>
<span>                        prob              <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>                        focal_unit        <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        num_focal_unit    <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        num_randomization <span class="op">=</span> <span class="fl">999</span>,</span>
<span>                        strata            <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        zmatrix           <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        kappa             <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        cores             <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>Here, we set <code>num_randomization = 999</code> to reduce the
computation time, but in realistic situations the number of
randomization should be larger (e.g.,
<code>num_randomization = 99999</code>).</p>
<p>The p-values obtained from Kruskal-Wallis (KW), average cross
difference (ACD), and ordinary least squares (OLS) test statistics
are:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RT1</span><span class="op">$</span><span class="va">pval</span></span>
<span><span class="co">#&gt;    KW   ACD   OLS </span></span>
<span><span class="co">#&gt; 0.001 0.002 0.001</span></span></code></pre></div>
<p>The null hypothesis is rejected at the standard significance level.
In other words, we find statistical evidence that SUTVA is
implausible.</p>
<p>The results of Simes’ correction are:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RT1</span><span class="op">$</span><span class="va">Simes</span></span>
<span><span class="co">#&gt;  10%   5%   1% </span></span>
<span><span class="co">#&gt; TRUE TRUE TRUE</span></span></code></pre></div>
<p>Here, <code>TRUE</code> indicates the rejection of the null
hypothesis. Again, the results suggest that SUTVA does not hold.</p>
<p>We can confirm the numbers of focal units and assignments with:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RT1</span><span class="op">$</span><span class="va">num_focal_unit</span></span>
<span><span class="co">#&gt; [1] 84</span></span>
<span><span class="va">RT1</span><span class="op">$</span><span class="va">num_focal_asgmt</span></span>
<span><span class="co">#&gt; [1] 1000</span></span></code></pre></div>
<p>Next, we turn to test whether exposure 2 is correct.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">RT2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/testinterference.html">testinterference</a></span><span class="op">(</span>Y                 <span class="op">=</span> <span class="va">data1</span><span class="op">$</span><span class="va">Y</span>,</span>
<span>                        Z                 <span class="op">=</span> <span class="va">data1</span><span class="op">$</span><span class="va">Z</span>,</span>
<span>                        A                 <span class="op">=</span> <span class="va">data1</span><span class="op">$</span><span class="va">A</span>,</span>
<span>                        hypothesis        <span class="op">=</span> <span class="st">"exposure2"</span>,</span>
<span>                        method            <span class="op">=</span> <span class="st">"MIS"</span>,</span>
<span>                        design            <span class="op">=</span> <span class="st">"Bernoulli"</span>,</span>
<span>                        prob              <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>                        focal_unit        <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        num_focal_unit    <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        num_randomization <span class="op">=</span> <span class="fl">999</span>,</span>
<span>                        strata            <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        zmatrix           <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        kappa             <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        cores             <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>The testing results are:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RT2</span><span class="op">$</span><span class="va">pval</span></span>
<span><span class="co">#&gt;    KW   ACD   OLS </span></span>
<span><span class="co">#&gt; 0.004 0.003 0.008</span></span>
<span><span class="va">RT2</span><span class="op">$</span><span class="va">Simes</span></span>
<span><span class="co">#&gt;  10%   5%   1% </span></span>
<span><span class="co">#&gt; TRUE TRUE TRUE</span></span>
<span><span class="va">RT2</span><span class="op">$</span><span class="va">num_focal_unit</span></span>
<span><span class="co">#&gt; [1] 34</span></span>
<span><span class="va">RT2</span><span class="op">$</span><span class="va">num_focal_asgmt</span></span>
<span><span class="co">#&gt; [1] 1000</span></span></code></pre></div>
<p>We find statistical evidence that exposure 2 is incorrect.</p>
</div>
<div class="section level2">
<h2 id="example-2-pairs">Example 2: Pairs<a class="anchor" aria-label="anchor" href="#example-2-pairs"></a>
</h2>
<p>We turn to the case with possible pairwise interactions and complete
randomization. To consider the case without interference, we specify
<code>beta_s = 0</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate artificial data (Erdos-Renyi model)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">data2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datageneration.html">datageneration</a></span><span class="op">(</span>n      <span class="op">=</span> <span class="va">n</span>,</span>
<span>                        design <span class="op">=</span> <span class="st">"complete"</span>,</span>
<span>                        A      <span class="op">=</span> <span class="st">"pairs"</span>,</span>
<span>                        beta_s <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p>Perform the randomization test:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">RT3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/testinterference.html">testinterference</a></span><span class="op">(</span>Y                 <span class="op">=</span> <span class="va">data2</span><span class="op">$</span><span class="va">Y</span>,</span>
<span>                        Z                 <span class="op">=</span> <span class="va">data2</span><span class="op">$</span><span class="va">Z</span>,</span>
<span>                        A                 <span class="op">=</span> <span class="va">data2</span><span class="op">$</span><span class="va">A</span>,</span>
<span>                        hypothesis        <span class="op">=</span> <span class="st">"SUTVA"</span>,</span>
<span>                        method            <span class="op">=</span> <span class="st">"MIS"</span>,</span>
<span>                        design            <span class="op">=</span> <span class="st">"complete"</span>,</span>
<span>                        prob              <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        focal_unit        <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        num_focal_unit    <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        num_randomization <span class="op">=</span> <span class="fl">999</span>,</span>
<span>                        strata            <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        zmatrix           <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        kappa             <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        cores             <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>The testing results are:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RT3</span><span class="op">$</span><span class="va">pval</span></span>
<span><span class="co">#&gt;    KW   ACD   OLS </span></span>
<span><span class="co">#&gt; 0.233 0.262 0.510</span></span>
<span><span class="va">RT3</span><span class="op">$</span><span class="va">Simes</span></span>
<span><span class="co">#&gt;   10%    5%    1% </span></span>
<span><span class="co">#&gt; FALSE FALSE FALSE</span></span>
<span><span class="va">RT3</span><span class="op">$</span><span class="va">num_focal_unit</span></span>
<span><span class="co">#&gt; [1] 100</span></span>
<span><span class="va">RT3</span><span class="op">$</span><span class="va">num_focal_asgmt</span></span>
<span><span class="co">#&gt; [1] 1000</span></span></code></pre></div>
<p>The null hypothesis is not rejected at the standard significance
level. For the results of Simes’ correction, <code>FALSE</code>
indicates the acceptance of the null hypothesis. Thus, the testing
results suggest that SUTVA might hold.</p>
<p>In the case with pairwise interactions, it is impossible to perform
randomization tests for <code>hypothesis = "exposure2"</code>. This is
because each unit has only one peer so that <span class="math inline">\(\mathcal{N}(\kappa)\)</span> is empty for any
<span class="math inline">\(\kappa \ge 2\)</span>. See the vignette
<code><a href="../articles/exposure2.html">vignette("exposure2", package = "testinterference")</a></code> for
more details.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li>Hoshino, T. and Yanagi, T., 2023. Randomization test for the
specification of interference structure arXiv preprint arXiv:2301.05580.
<a href="https://doi.org/10.48550/arXiv.2301.05580" class="external-link">Link</a>
</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Tadao Hoshino, Takahide Yanagi.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
